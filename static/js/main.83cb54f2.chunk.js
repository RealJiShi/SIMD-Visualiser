(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{321:function(e,t,n){e.exports=n.p+"static/media/cog.a08a6ab0.svg"},327:function(e,t,n){e.exports=n.p+"static/media/c-programming.811c1a47.svg"},328:function(e,t,n){e.exports=n.p+"static/media/cryingboy.5b495fa1.svg"},333:function(e,t,n){e.exports=n(776)},338:function(e,t,n){},346:function(e,t,n){},378:function(e,t){},380:function(e,t){},411:function(e,t){},412:function(e,t){},460:function(e,t){},462:function(e,t){},482:function(e,t){},762:function(e,t,n){},765:function(e,t,n){},767:function(e,t,n){},769:function(e,t,n){},776:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(30),o=n.n(i),c=(n(338),n(9)),s=n(14),l=n(16),u=n(15),d=n(17),p=n(10),m=n(316),h=(n(340),n(342),n(344),n(345),n(346),n(11)),f=n(37);function g(){return{main:getComputedStyle(document.documentElement).getPropertyValue("--main"),darkMain:getComputedStyle(document.documentElement).getPropertyValue("--dark-main"),one:getComputedStyle(document.documentElement).getPropertyValue("--one"),two:getComputedStyle(document.documentElement).getPropertyValue("--two"),three:getComputedStyle(document.documentElement).getPropertyValue("--three"),four:getComputedStyle(document.documentElement).getPropertyValue("--four"),five:getComputedStyle(document.documentElement).getPropertyValue("--five"),gray:getComputedStyle(document.documentElement).getPropertyValue("--gray"),clearTextColor:getComputedStyle(document.documentElement).getPropertyValue("--clear-text-color"),DarkTextColor:getComputedStyle(document.documentElement).getPropertyValue("--dark-text-color")}}function v(){var e=Object(p.a)(["\n  background: ",";\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  font-weight: 300\n  font-size: 14px;\n  padding: 5px;\n  padding-left: 10px;\n  margin-bottom: 5px;\n\n  > span {\n    font-weight: 500;\n    margin-left: 10px;\n  }\n\n  @media (max-width: 700px) {\n    font-size: 8px;\n  }\n"]);return v=function(){return e},e}var b=h.a.div(v(),function(e){return e.bg});function y(e){var t=e.status,n=void 0===t?"compiles":t,a="",i="";return"compiles"===n?(a=g().five,i="Code status: Compiles.."):"error"===n?(a=g().two,i="Code status: Error.."):"warning"===n&&(a=g().four,i="Code status: warning.."),r.a.createElement(b,{bg:a},i)}var x=n(28),E=n(318),O=n(319);function j(){var e=Object(p.a)(["\n    width: 100%;\n    display: flex;\n  > button {\n    border: none;\n    background: none;\n    color: #fff;\n    font-size: 18px;\n    padding: 8px;\n    text-shadow: -1px -1px 1px rgba(255,255,255,.1), 1px 1px 1px rgba(0,0,0,.5);\n\n    @media (max-width: 700px) {\n      font-size: 10px;\n    }\n  }\n\n  > button:hover {\n    color: #fff;\n    cursor: pointer;\n  }\n\n  > button:disabled {\n    color: #919191;\n  }\n\n  > button:active {\n    color: #fff;\n    text-shadow: none;\n  }\n  \n  > #sharePopover {\n    margin-left:auto;\n    opacity: 0.6;\n  }\n  \n  > #sharePopover:hover {\n    opacity: 1;\n  }\n"]);return j=function(){return e},e}function k(){var e=Object(p.a)(["\n  padding: 3px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 10px;\n"]);return k=function(){return e},e}function w(){var e=Object(p.a)(["\n  background: #1F292E;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n"]);return w=function(){return e},e}var C=h.a.div(w()),S=h.a.div(k()),A=h.a.div(j()),_=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).bitly=new E.BitlyClient("e17981e1eef5e2ec83995b478b899564448b9496",{}),n.toggleShare=n.toggleShare.bind(Object(f.a)(Object(f.a)(n))),n.state={popoverOpen:!1,shareLink:"Loading..."},n.textAreaRef=r.a.createRef(),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"toggleShare",value:function(){var e=this,t=this.props.getShareLink();this.setState({popoverOpen:!this.state.popoverOpen}),this.bitly.shorten(t).then(function(t){e.setState({shareLink:t.url})}).catch(function(n){e.setState({shareLink:t}),console.error(n)})}},{key:"render",value:function(){var e=this,t=this.props,n=t.visualize,a=t.restart,i=t.disabled,o=void 0!==i&&i,c=t.status;return r.a.createElement(C,null,r.a.createElement(S,null,r.a.createElement(A,null,r.a.createElement("button",{disabled:o,onClick:n},"Visualize"),r.a.createElement("button",{onClick:a},"Restart"),r.a.createElement("button",{id:"sharePopover",onClick:this.toggleShare},r.a.createElement("i",{className:"fas fa-share-square"}))),r.a.createElement(x.g,{placement:"left",isOpen:this.state.popoverOpen,target:"sharePopover",toggle:this.toggleShare},r.a.createElement(x.h,null,r.a.createElement(x.e,null,r.a.createElement(x.d,{readOnly:!0,ref:this.textAreaRef,value:this.state.shareLink}),r.a.createElement(x.f,{addonType:"prepend"},r.a.createElement(O.CopyToClipboard,{text:this.state.shareLink,onCopy:function(){return e.setState({popoverOpen:!1})}},r.a.createElement(x.a,{color:"info"}," ",r.a.createElement("i",{className:"far fa-copy"})," "))))))),r.a.createElement(y,{status:c}))}}]),t}(a.Component),D='{"type": "Program",\n  "start": 0,\n  "end": 198,\n  "body": [\n    {\n      "type": "ImportDeclaration",\n      "start": 0,\n      "end": 20,\n      "specifiers": [],\n      "source": {\n        "type": "Literal",\n        "start": 7,\n        "end": 20,\n        "value": "x86intrin.h",\n        "raw": "\\"x86intrin.h\\""\n      }\n    },\n    {\n      "type": "FunctionDeclaration",\n      "start": 22,\n      "end": 198,\n      "id": {\n        "type": "Identifier",\n        "start": 31,\n        "end": 40,\n        "name": "PrefixSum"\n      },\n      "generator": false,\n      "expression": false,\n      "params": [\n        {\n          "type": "Identifier",\n          "start": 41,\n          "end": 45,\n          "name": "curr"\n        }\n      ],\n      "body": {\n        "type": "BlockStatement",\n        "start": 47,\n        "end": 198,\n        "body": [\n          {\n            "type": "VariableDeclaration",\n            "start": 53,\n            "end": 87,\n            "declarations": [\n              {\n                "type": "VariableDeclarator",\n                "start": 57,\n                "end": 86,\n                "id": {\n                  "type": "Identifier",\n                  "start": 57,\n                  "end": 60,\n                  "name": "Add"\n                },\n                "init": {\n                  "type": "CallExpression",\n                  "start": 63,\n                  "end": 86,\n                  "callee": {\n                    "type": "Identifier",\n                    "start": 63,\n                    "end": 77,\n                    "name": "_mm_slli_si128"\n                  },\n                  "arguments": [\n                    {\n                      "type": "Identifier",\n                      "start": 78,\n                      "end": 82,\n                      "name": "curr"\n                    },\n                    {\n                      "type": "Literal",\n                      "start": 84,\n                      "end": 85,\n                      "value": 4,\n                      "raw": "4"\n                    }\n                  ]\n                }\n              }\n            ],\n            "kind": "let"\n          },\n          {\n            "type": "ExpressionStatement",\n            "start": 92,\n            "end": 124,\n            "expression": {\n              "type": "AssignmentExpression",\n              "start": 92,\n              "end": 123,\n              "operator": "=",\n              "left": {\n                "type": "Identifier",\n                "start": 92,\n                "end": 96,\n                "name": "curr"\n              },\n              "right": {\n                "type": "CallExpression",\n                "start": 99,\n                "end": 123,\n                "callee": {\n                  "type": "Identifier",\n                  "start": 99,\n                  "end": 112,\n                  "name": "_mm_add_epi32"\n                },\n                "arguments": [\n                  {\n                    "type": "Identifier",\n                    "start": 113,\n                    "end": 117,\n                    "name": "curr"\n                  },\n                  {\n                    "type": "Identifier",\n                    "start": 119,\n                    "end": 122,\n                    "name": "Add"\n                  }\n                ]\n              }\n            }\n          },\n          {\n            "type": "ExpressionStatement",\n            "start": 129,\n            "end": 159,\n            "expression": {\n              "type": "AssignmentExpression",\n              "start": 129,\n              "end": 158,\n              "operator": "=",\n              "left": {\n                "type": "Identifier",\n                "start": 129,\n                "end": 132,\n                "name": "Add"\n              },\n              "right": {\n                "type": "CallExpression",\n                "start": 135,\n                "end": 158,\n                "callee": {\n                  "type": "Identifier",\n                  "start": 135,\n                  "end": 149,\n                  "name": "_mm_slli_si128"\n                },\n                "arguments": [\n                  {\n                    "type": "Identifier",\n                    "start": 150,\n                    "end": 154,\n                    "name": "curr"\n                  },\n                  {\n                    "type": "Literal",\n                    "start": 156,\n                    "end": 157,\n                    "value": 8,\n                    "raw": "8"\n                  }\n                ]\n              }\n            }\n          },\n          {\n            "type": "ReturnStatement",\n            "start": 164,\n            "end": 196,\n            "argument": {\n              "type": "CallExpression",\n              "start": 171,\n              "end": 195,\n              "callee": {\n                "type": "Identifier",\n                "start": 171,\n                "end": 184,\n                "name": "_mm_add_epi32"\n              },\n              "arguments": [\n                {\n                  "type": "Identifier",\n                  "start": 185,\n                  "end": 189,\n                  "name": "curr"\n                },\n                {\n                  "type": "Identifier",\n                  "start": 191,\n                  "end": 194,\n                  "name": "Add"\n                }\n              ]\n            }\n          }\n        ]\n      }\n    }\n  ],\n  "sourceType": "module"\n}',R=function e(t,n,a){Object(c.a)(this,e),this.type=t,this.name=n,this.line=a};var W=/([\w]+): # @.*/;var B=n(321),P=n.n(B),V=n(36),z=n.n(V);function M(){var e=Object(p.a)(["\n    content: ","\n    height: 40vh;\n    margin: 30vh auto;\n    color: var(--dark-main)\n"]);return M=function(){return e},e}var L=h.a.div(M(),function(e){return"url("+e.url+");"}),I=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).cog=r.a.createRef(),e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.cogAnim=z()({targets:this.cog.current,loop:!0,rotate:"360deg",duration:4e3,easing:"linear"})}},{key:"render",value:function(){return r.a.createElement(L,{ref:this.cog,url:P.a})}}]),t}(a.Component),N=n(25),T=n(331),q=(n(760),n(762),function(e){switch(e.type){case"Program":return e.body;case"VariableDeclaration":return e.declarations;case"VariableDeclarator":return e.init?[e.id,e.init]:[e.id];case"ExpressionStatement":return[e.expression];case"BinaryExpression":case"AssignmentExpression":return[e.left,e.right];case"CallExpression":return[e.callee,{type:"arguments",arguments:e.arguments}];case"arguments":return e.arguments;case"MemberExpression":return[e.object,e.property];case"NewExpression":return e.arguments;case"ObjectExpression":return e.properties;case"Property":return[e.key,e.value];case"FunctionDeclaration":case"FunctionExpression":return[e.body];case"BlockStatement":return e.body;case"ReturnStatement":return e.argument?[e.argument]:[];case"UnaryExpression":return[e.argument];case"IfStatement":return[e.test,e.consequent];case"ConditionalExpression":return[e.test,e.consequent,e.alternate];default:return[]}}),H=function(e){switch(e.type){case"Identifier":return e.name;case"Literal":return e.raw;case"UnaryExpression":case"BinaryExpression":case"AssignmentExpression":return e.operator;case"FunctionDeclaration":var t=N.map(e.params,"name").join(",");return"function "+!(!e.id||!e.id.name)+"("+t+")";case"FunctionExpression":var n=N.map(e.params,"name").join(",");return"function "+!(!e.id||!e.id.name)+"("+n+")";default:return e.type}},F=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).recursiveBuilder=function(e){var t=q(e),a=[];return t===[]?t:(t.forEach(function(e){a.push({title:H(e),children:n.recursiveBuilder(e),expanded:!0,type:e.type,start:e.start,end:e.end})}),a)},n.buildTree=function(e){var t=[];return t.push({title:H(e),children:n.recursiveBuilder(e),expanded:!0,type:e.type,start:e.start,end:e.end}),t},n.highlightCode=function(e,t){var a=n.props.cm.editor.doc,r=a.posFromIndex(e),i=a.posFromIndex(t);a.markText(r,i,{className:"highlighted-code"})},n.clearHighlightedCode=function(){n.props.cm.editor.doc.getAllMarks().forEach(function(e){e.clear()})},n.state={treeData:[]},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({treeData:this.buildTree(this.props.ast)})}},{key:"componentWillReceiveProps",value:function(e){this.setState({treeData:this.buildTree(e.ast)})}},{key:"render",value:function(){var e=this;return r.a.createElement(T.a,{treeData:this.state.treeData,onChange:function(t){return e.setState({treeData:t})},canDrag:!1,generateNodeProps:function(t){var n=t.node;return{className:n.type,onMouseEnter:function(){return e.highlightCode(n.start,n.end)},onMouseLeave:function(){return e.clearHighlightedCode()}}}})}}]),t}(a.Component),U=n(327),G=n.n(U);function J(){var e=Object(p.a)(["\n    margin-top: 40px;\n    text-align: center;\n"]);return J=function(){return e},e}function Y(){var e=Object(p.a)(["\n    padding: 3px 10px 3px 8px;\n    font-size: 16px;\n    line-height: 22px;\n    border-radius: 4px;\n    text-shadow: 0 1px 0 #fff;\n    white-space: nowrap;\n    cursor: pointer;\n    color: #333;\n    background-repeat: no-repeat;\n    border: 1px solid #d5d5d5;\n    font-weight: 700;\n    vertical-align: top;\n    margin: 0 10px;\n    \n    :hover{\n        text-decoration: none;\n        background-color: #ddd;\n        background-image: -webkit-gradient(linear,left top,left bottom,color-stop(0,#eee),color-stop(100%,#ddd));\n        background-image: -webkit-linear-gradient(top,#eee 0,#ddd 100%);\n        background-image: -moz-linear-gradient(top,#eee 0,#ddd 100%);\n        background-image: -ms-linear-gradient(top,#eee 0,#ddd 100%);\n        background-image: -o-linear-gradient(top,#eee 0,#ddd 100%);\n        background-image: linear-gradient(to bottom,#eee 0,#ddd 100%);\n        filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#eeeeee', endColorstr='#dddddd', GradientType=0);\n        border-color: #ccc;\n    }\n"]);return Y=function(){return e},e}function X(){var e=Object(p.a)(["\n"]);return X=function(){return e},e}function $(){var e=Object(p.a)(["\n    text-align: center;\n    font-weight: 300;\n    margin: 0px auto;\n    font-size: calc(8px + 0.91vw);\n"]);return $=function(){return e},e}function K(){var e=Object(p.a)(["\n    text-align: center;\n    font-weight: 300;\n    font-size: calc(12px + 3.6vw);\n    letter-spacing: 1.8px;\n    margin-top: 40px;\n    border: medium none;\n    margin-bottom: 20px;\n"]);return K=function(){return e},e}function Q(){var e=Object(p.a)(["\n    content: ","\n    width: 40vmin;\n    margin: 8vh auto;\n"]);return Q=function(){return e},e}var Z=h.a.div(Q(),function(e){return"url("+e.url+");"}),ee=h.a.div(K()),te=h.a.div($()),ne=h.a.div(X()),ae=h.a.button(Y()),re=h.a.div(J()),ie=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).image=r.a.createRef(),e.imageContainer=r.a.createRef(),e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){z()({easing:"easeOutCubic",targets:this.imageContainer.current,direction:"alternate",duration:2e3,scale:".9",loop:!0}),z()({targets:this.image.current,delay:6e3,duration:4e3,rotate:"360deg",loop:!0})}},{key:"render",value:function(){return r.a.createElement(ne,null,r.a.createElement("div",{ref:this.imageContainer},r.a.createElement(Z,{url:G.a,ref:this.image})),r.a.createElement(ee,null,"The Ultimate SIMD visualizer"),r.a.createElement(te,null,"Built by ",r.a.createElement("strong",null,"J\xe9r\xe9mie Piotte"),", ",r.a.createElement("strong",null,"Daniel Lemire")," and ",r.a.createElement("strong",null,"Pierre Marie Ntang")),r.a.createElement(re,null,r.a.createElement("a",{href:"https://github.com/piotte13/SIMD-Visualiser",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(ae,null,"View on GitHub")),r.a.createElement("iframe",{src:"https://ghbtns.com/github-btn.html?user=piotte13&repo=SIMD-Visualiser&type=star&count=true&size=large",frameBorder:"0",scrolling:"0",width:"160px",height:"30px"})))}}]),t}(a.Component),oe=n(194);var ce=n(328),se=n.n(ce);function le(){var e=Object(p.a)(["\n    position: absolute;\n    bottom: 0;\n    right: 0;\n    width: 50vh;\n"]);return le=function(){return e},e}function ue(){var e=Object(p.a)(["\n    font-size: 14px;\n    font-weight: bold;\n    color: #767676;\n    margin-bottom: 15px;\n    margin-top: 25px;\n"]);return ue=function(){return e},e}function de(){var e=Object(p.a)(["\n    font-size: 32px;\n    font-weight: normal;\n    color: rgb(72, 72, 72);\n    margin-bottom: 15px;\n    margin-top: 25px;\n"]);return de=function(){return e},e}function pe(){var e=Object(p.a)(["\n    font-size: 60px;\n    font-weight: 700;\n    color: rgb(72, 72, 72);\n    margin-bottom: 15px;\n"]);return pe=function(){return e},e}function me(){var e=Object(p.a)(["\n    padding: 50px;\n"]);return me=function(){return e},e}var he=h.a.div(me()),fe=h.a.div(pe()),ge=h.a.div(de()),ve=h.a.div(ue()),be=h.a.img(le()),ye=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).highlightCode=function(){var e=n.props.error[0].tag.line-1,t=n.props.cm.editor.getLine(e).length;n.props.cm.editor.doc.markText({line:e,ch:0},{line:e,ch:t},{className:"highlighted-code"})},n.clearHighlightedCode=function(){n.props.cm.editor.doc.getAllMarks().forEach(function(e){e.clear()})},n.getErrorMessage=function(){return n.props.error[0].tag.text},n.getErrorPosition=function(){return r.a.createElement("div",null,r.a.createElement("p",null,"Line: ",n.props.error[0].tag.line," "),r.a.createElement("p",null," Column: ",n.props.error[0].tag.column," "))},console.log(e.error),0!==e.error.length&&n.highlightCode(),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillUnmount",value:function(){this.clearHighlightedCode()}},{key:"render",value:function(){return r.a.createElement(he,null,r.a.createElement(fe,null,"Oops!"),r.a.createElement(ge,null,this.getErrorMessage()),r.a.createElement(ve,null,this.getErrorPosition()),r.a.createElement(be,{src:se.a}))}}]),t}(a.Component),xe=(n(765),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={selected:n.props.selected},n.handleClick=function(e,t){t.preventDefault(),n.setState({selected:e})},n._renderTitles=function(){return r.a.createElement("ul",{className:"tabs__labels"},n.props.children.map(function(e,t){var n=this.state.selected===t?"active":"";return r.a.createElement("li",{key:t},r.a.createElement("a",{href:"#",className:n,onClick:this.handleClick.bind(this,t)},e.props.label))}.bind(Object(f.a)(Object(f.a)(n)))))},n._renderContent=function(){return r.a.createElement("div",{className:"tabs__content"},n.props.children[n.state.selected])},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props!==e||this.state!==t}},{key:"render",value:function(){return r.a.createElement("div",{className:"tabs"},this._renderTitles(),this._renderContent())}}]),t}(a.Component)),Ee=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.children)}}]),t}(a.Component),Oe=n(139),je={x:16,y:32,z:64},ke=new function e(){var t=this;Object(c.a)(this,e),this.set=function(e,n){var a,r=+e.substring(3),i=e[0];(a=t._keys[r]).splice.apply(a,[0,je[i]].concat(Object(Oe.a)(n)))},this.get=function(e){var n=+e.substring(3),a=e[0];return t._keys[n].slice(0,je[a])},this.clear=function(){t._keys.map(function(){return new Array(je.z).fill(0).map(function(){return N.random(1,255)})})},this._keys=new Array(32).fill(0).map(function(){return new Array(je.z).fill(0).map(function(e,t){return t})})};Object.freeze(ke);var we=ke,Ce=(n(767),n(64)),Se=n.n(Ce),Ae=function(e,t,n,a){var r=[];if(32===t)r=N.times(e.length/4).map(function(t){return Se.a.fromBytesBigEndian(e[4*t],e[4*t+1],e[4*t+2],e[4*t+3])});else if(8===t)if(8===a)r=e.map(function(e){return Math.abs(e)});else if(32===a){r=new Array(4*e.length);for(var i=0;i<e.length;i++)r[4*i]=Se.a.getByteBigEndian(e[i],3),r[4*i+1]=Se.a.getByteBigEndian(e[i],2),r[4*i+2]=Se.a.getByteBigEndian(e[i],1),r[4*i+3]=Se.a.getByteBigEndian(e[i],0)}return r},_e=function(e,t,n,a){return e},De=function(e,t,n,a){return e};function Re(e,t,n,a,r){var i=[];switch(t){case"uint":i=Ae(e,n,a,r);break;case"int":i=_e(e,n,a,r);break;case"double":i=De(e,n,a,r);break;default:i=e.slice(0)}return i}function We(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:16,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"int",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:8,c=Re(e,t,n,i,o);return N.mixin({toBase:function(e,t){return e.toString(t)}}),c.map(function(e){return N.chain(e).round(r).toBase(a).padStart(n/4,"0").toUpper().value()})}var Be=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).updateWidth=function(){n.setState({width:window.innerWidth})},n.state={width:window.innerWidth},n.numbersRef=r.a.createRef(),n.vectorRef=r.a.createRef(),e.numbersRef(n.numbersRef),e.vectorRef(n.vectorRef),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.updateWidth(),window.addEventListener("resize",this.updateWidth)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWidth)}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.shiftData,a=e.type,i=e.bitWidth,o=e.base,c=We(t,a,i,o),s=We(n,a,i,o),l=c.length,u=this.state.width/2-20-80;return r.a.createElement("svg",{width:u+20,height:70,ref:this.vectorRef,viewBox:"0 0 ".concat(u+20," ").concat(70),xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("rect",{x:10,y:10,width:u,height:50,rx:"3",ry:"3",className:"vector-container"}),N.times(l-1,Number).map(function(e){var t=10+u/l*(e+1);return r.a.createElement("line",{key:e,x1:t,y1:10,x2:t,y2:60,className:"vector-line"})}),r.a.createElement("svg",{width:u,height:50,x:10,y:10,viewBox:"0 0 ".concat(u," ").concat(50)},r.a.createElement("g",{ref:this.numbersRef},c.map(function(e,t){var n=u/l*t;return r.a.createElement("svg",{key:t,width:u/l,height:50,x:n},r.a.createElement("text",{x:"50%",y:"50%",dy:".3em",className:"vector-values"},e))}),s.map(function(e,t){var n=u/l*t,a=u/l*s.length;return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement("svg",{width:u/l,height:50,x:n+u},r.a.createElement("text",{x:"50%",y:"50%",dy:".3em",className:"shift-values-right"},s[t])),r.a.createElement("svg",{width:u/l,height:50,x:n-a},r.a.createElement("text",{x:"50%",y:"50%",dy:".3em",className:"shift-values-left"},s[t])))}))))}}]),t}(a.Component);Be.defaultProps={type:"uint",bitWidth:32,data:[],base:10,shiftData:[],numbersRef:function(){},vectorRef:function(){}};var Pe=function(e){function t(e){var n;Object(c.a)(this,t),n=Object(l.a)(this,Object(u.a)(t).call(this,e));var a=we.get("xmm0");return n.state={returnValue:a},n.vector=r.a.createRef(),n.computeCommand(),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"getAnimation",value:function(){var e=z.a.timeline({easing:"linear",autoplay:!1});return e.add({targets:this.vector.current,duration:1e3}),z.a.timeline({easing:"linear",loop:!0,autoplay:!0,direction:"alternate"}).add({targets:this.vector.current,filter:["drop-shadow(0px 0px 10px rgba(42, 54, 59, 1))","drop-shadow(0px 0px 1px rgba(42, 54, 59, .5))"],duration:1e3}),e}},{key:"computeCommand",value:function(){}},{key:"render",value:function(){var e=this,t=this.state.returnValue,n=this.props,a=n.type,i=n.bitWidth,o=n.base;return r.a.createElement(Be,{type:a,bitWidth:i,base:o,data:t,vectorRef:function(t){return e.vector=t}})}}]),t}(a.Component);Pe.defaultProps={type:"uint",bitWidth:32,base:16};var Ve=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,'Unsupported Command: "',this.props.name,'"')}}]),t}(a.Component);function ze(){var e=Object(p.a)(["\n    font-size: 32px;\n    font-weight: normal;\n    color: rgb(72, 72, 72);\n    margin-bottom: 15px;\n    text-align: center;\n"]);return ze=function(){return e},e}function Me(){var e=Object(p.a)(["\n"]);return Me=function(){return e},e}var Le=h.a.div(Me()),Ie=h.a.div(ze()),Ne=function(e){function t(e){var n;return Object(c.a)(this,t),n=Object(l.a)(this,Object(u.a)(t).call(this,e)),we.clear(),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(Le,null,r.a.createElement(Ie,null,this.props.name),r.a.createElement("hr",null))}}]),t}(a.Component);function Te(){var e=Object(p.a)(["\n  margin: 40px 0 20px 0;\n  opacity: 0;\n  text-align: center;\n  \n  \n  \n  :first-child, last-child{\n    margin: 20px 0;\n  }\n"]);return Te=function(){return e},e}var qe=h.a.div(Te()),He=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).highlightCode=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=e.component.current.props.line;if(n){var a=e.props.cm.editor.getLine(n).length;return e.props.cm.editor.doc.markText({line:n,ch:0},{line:n,ch:a},{className:t?"highlighted-code":"sequential-highlighted-code"})}return null},e.onEnter=function(){e.hoverHighlight=e.highlightCode(!0),e.childAnimation&&(e.isLoop=e.childAnimation.loop,e.childAnimation.loop=!0,e.childAnimation.restart())},e.onLeave=function(){e.hoverHighlight&&e.hoverHighlight.clear(),e.childAnimation&&(e.childAnimation.loop=e.isLoop,e.childAnimation.restart(),e.childAnimation.seek(1/0))},e.container=r.a.createRef(),e.component=r.a.createRef(),e}return Object(d.a)(t,e),Object(s.a)(t,[{key:"allAnimationCompleted",value:function(){this.props.onComplete(this.props.index),this.sequentialHighlight&&this.sequentialHighlight.clear()}},{key:"componentDidMount",value:function(){var e=this;this.childAnimation=!1;var t=this.component.current;t&&t.getAnimation&&(this.childAnimation=t.getAnimation()),this.animeRef=z()({targets:this.container.current,easing:"easeOutCubic",autoplay:!1,translateY:["5vh",0],duration:500,delay:800,opacity:1,complete:function(){e.childAnimation?(e.childAnimation.restart(),e.timelineFinished=e.childAnimation.finished.then(function(){return e.allAnimationCompleted()})):e.props.onComplete(e.props.index)}}),this.props.shouldBeVisible&&this.animeRef.restart()}},{key:"componentWillReceiveProps",value:function(e){!0!==this.props.play||e.play?!0===!this.props.play&&e.play&&e.shouldBeVisible&&this.childAnimation&&this.childAnimation.play():this.childAnimation&&this.childAnimation.pause(),!e.shouldBeVisible&&this.props.shouldBeVisible&&(this.sequentialHighlight&&this.sequentialHighlight.clear(),this.animeRef.seek(0),this.childAnimation&&(this.childAnimation.seek(0),this.childAnimation=this.component.current.getAnimation())),e.shouldBeVisible&&!this.props.shouldBeVisible&&(this.animeRef.restart(),this.sequentialHighlight=this.highlightCode())}},{key:"render",value:function(){return r.a.createElement(qe,{ref:this.container,onMouseEnter:this.onEnter,onMouseLeave:this.onLeave},r.a.cloneElement(this.props.component,{ref:this.component}))}}]),t}(r.a.Component),Fe=(n(769),2),Ue=1,Ge=function(e){function t(e){var n;Object(c.a)(this,t),n=Object(l.a)(this,Object(u.a)(t).call(this,e));var a=we,r=e.params[Fe],i=a.get(e.params[Ue]);return n.state={shiftLen:r,input:i,output:[]},n.computeCommand(),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"getAnimation",value:function(){var e=this.props.bitWidth,t=this.state,n=t.shiftLen,a=t.input,r=100*{right:1,left:-1}[this.props.direction]*n*e/(8*a.length);return this.timeline=z.a.timeline({easing:"easeOutCubic",loop:!1,autoplay:!1}),this.timeline.add({targets:this.numbersRef.current,translateX:"".concat(r,"%"),duration:2e3,delay:300}),this.timeline}},{key:"computeCommand",value:function(){var e,t=we,n=this.props,a=n.params,r=n.bitWidth,i=a[Fe]*(r/8),o=t.get(a[Ue]),c=N.cloneDeep(o);(e=c).push.apply(e,Object(Oe.a)(new Array(i).fill(0))),c=c.slice(-o.length),t.set(a[0],c)}},{key:"render",value:function(){var e=this,t=this.state.input,n=this.props,a=n.type,i=n.bitWidth,o=n.base,c=n.shiftData;return r.a.createElement(Be,{type:a,bitWidth:i,base:o,data:t,shiftData:c,numbersRef:function(t){return e.numbersRef=t}})}}]),t}(a.Component);Ge.defaultProps={type:"uint",bitWidth:32,base:16,direction:"left",shiftData:new Array(64).fill(0)};var Je=1,Ye=2,Xe=0,$e=function(e){function t(e){var n;Object(c.a)(this,t),n=Object(l.a)(this,Object(u.a)(t).call(this,e));for(var a=we,i=a.get(e.params[Je]),o=a.get(e.params[Ye]),s=Re(i,e.type,e.bitWidth,"uint",8),d=Re(o,e.type,e.bitWidth,"uint",8),p=new Array(s.length),m=0;m<s.length;m++)p[m]=Se.a.addMod32(s[m],d[m]);var h=Re(p,"uint",8,e.type,e.bitWidth);return a.set(e.params[Xe],h),n.state={input1:i,input2:o,output:h,input1_converted:s,input2_converted:d,output_converted:p,showOutput:!1},n.state.output=N.cloneDeep(o),n.vector1=r.a.createRef(),n.vector2=r.a.createRef(),n.vector3=r.a.createRef(),n.vector4=r.a.createRef(),n.equals=r.a.createRef(),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"getAnimation",value:function(){var e=this,t=z.a.timeline({easing:"easeOutCubic",loop:!1,autoplay:!1}),n=this.state.output_converted,a=N.cloneDeep(this.state.input2_converted),r={nextTick:0,currentTick:0};return t.add({targets:this.equals.current,opacity:[0,1],duration:500,offset:500}).add({targets:this.vector3.current,translateY:[-95,0],duration:1500,offset:"+=500"}).add({targets:this.vector4.current,translateY:[-258,-70],duration:1500,offset:"-=1500"}).add({targets:r,nextTick:N.max(a.map(function(e,t){return Math.abs(n[t]-e)})),duration:2e3,round:1,offset:"-=200",begin:function(){e.setState({output:N.cloneDeep(e.state.input2)})},update:function(t){t.began&&r.nextTick!==r.currentTick&&(a=a.map(function(e,t){var a=n[t]-e;return a>0?e+1:a<0?e-1:e}),r.currentTick=r.nextTick,e.setState({output:Re(a,"uint",8,e.props.type,e.props.bitWidth)}))}}),t}},{key:"render",value:function(){var e=this,t=this.state,n=t.input1,a=t.input2,i=t.output,o=this.props,c=o.type,s=o.bitWidth,l=o.base,u=8*n.length/s;return r.a.createElement("div",{style:{height:"260px"}},r.a.createElement(Be,{type:c,bitWidth:s,base:l,data:n,vectorRef:function(t){return e.vector1=t}}),r.a.createElement(x.c,null,r.a.createElement(x.i,null,N.times(u).map(function(e){return r.a.createElement(x.b,{key:e},"+")}))),r.a.createElement(Be,{type:c,bitWidth:s,base:l,data:a,vectorRef:function(t){return e.vector2=t}}),r.a.createElement("div",{ref:this.equals},r.a.createElement(x.c,null,r.a.createElement(x.i,null,N.times(u).map(function(e){return r.a.createElement(x.b,{key:e},"=")})))),r.a.createElement(Be,{type:c,bitWidth:s,base:l,data:i,vectorRef:function(t){return e.vector3=t}}),r.a.createElement(Be,{type:c,bitWidth:s,base:l,data:i,vectorRef:function(t){return e.vector4=t}}))}}]),t}(a.Component);function Ke(){var e=Object(p.a)(["\n   overflow: auto;\n   height: calc(100% - 40px);\n"]);return Ke=function(){return e},e}function Qe(){var e=Object(p.a)(["\n    text-align: center;\n"]);return Qe=function(){return e},e}$e.defaultProps={type:"uint",bitWidth:32,base:16,operation:"add"};var Ze=h.a.div(Qe()),et=h.a.div(Ke());var tt=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).buildGraphicStack=function(){var e=[];return n.props.asm.forEach(function(t){var n=t.body;e.push(r.a.createElement(Ne,{name:t.name})),n.forEach(function(t){var n=function(e){switch(e.name){case"vpslldq":return r.a.createElement(Ge,{direction:"left",bitWidth:8});case"vpsrldq":return r.a.createElement(Ge,{direction:"right",bitWidth:8});case"vpaddd":return r.a.createElement($e,{operation:"add",bitWidth:32});case"ret":return r.a.createElement(Pe,null);default:return r.a.createElement(Ve,null)}}(t);e.push(r.a.cloneElement(n,{name:t.name,params:t.params,line:t.line-1}))})}),e},n.getButtons=function(e){var t=[];return!0===e?t.push({icon:r.a.createElement("i",{className:"fas fa-pause"}),onClick:n.pause.bind(Object(f.a)(Object(f.a)(n)))}):t.push({icon:r.a.createElement("i",{className:"fas fa-play"}),onClick:n.play.bind(Object(f.a)(Object(f.a)(n)))}),t.push({icon:r.a.createElement("i",{className:"fas fa-sync-alt"}),onClick:n.restart.bind(Object(f.a)(Object(f.a)(n)))}),r.a.createElement(x.c,null,r.a.createElement(x.i,null,t.map(function(e,t){return r.a.createElement(x.b,{key:t},r.a.createElement(Ze,null,r.a.createElement(x.a,{color:"primary",outline:!0,onClick:e.onClick,className:"playback-button"},e.icon)))})))},n.state={idx:0,play:!0,restart:!1},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.cm.editor.doc.getAllMarks().forEach(function(e){e.clear()})}},{key:"componentDonePlaying",value:function(e){if(this.state.play){var t=e===this.state.idx?1:0;this.setState({idx:this.state.idx+t})}}},{key:"play",value:function(){this.setState({play:!0})}},{key:"pause",value:function(){this.setState({play:!1})}},{key:"forward",value:function(){this.setState({idx:this.state.idx+1})}},{key:"backward",value:function(){var e=this;this.setState({idx:this.state.idx-1}),setTimeout(function(){e.componentDonePlaying(e.state.idx)})}},{key:"restart",value:function(){var e=this;this.setState({idx:-1}),setTimeout(function(){e.setState({play:!0}),e.componentDonePlaying(-1)})}},{key:"render",value:function(){var e=this;return this.props.asm.length>0?r.a.createElement("div",{style:{height:"inherit"}},this.getButtons(this.state.play),r.a.createElement(et,null,this.buildGraphicStack().map(function(t,n){return r.a.createElement(He,{key:n,index:n,component:t,play:e.state.play,shouldBeVisible:e.state.idx>=n,onComplete:e.componentDonePlaying.bind(e),cm:e.props.cm})}))):[]}}]),t}(a.Component),nt=n(138),at=n(203);function rt(){var e=Object(p.a)(["\n  width: 50vw;\n  height: 100vh;\n  overflow: hidden;\n"]);return rt=function(){return e},e}function it(){var e=Object(p.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100vh\n  width: 50vw;\n  overflow: auto;\n"]);return it=function(){return e},e}function ot(){var e=Object(p.a)(["\n  display: flex;\n"]);return ot=function(){return e},e}var ct=h.a.div(ot()),st=h.a.div(it()),lt=h.a.div(rt()),ut=function(e){function t(e){var n;Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleClear=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.setState(function(t){var n=t.code;return{code:!0===e?"":n}})},n.visualize=function(){var e,t;n.setState({compiling:!0}),n.state.codeWasModifiedSinceLastCompile?(n.setState(function(e){Object.keys(e.ast).forEach(function(t){return delete e.ast[t]}),Object.assign(e.ast,(n.cm.editor,JSON.parse(D)))}),e=n.cm.editor.getValue(),t=function(e,t,a){0===e.length?(t=function(e){var t=[],n={body:[]};return e.forEach(function(e){if(W.test(e.text)){var a=W.exec(e.text)[1];(n=new R("Function",a,0)).body=[],t.push(n)}else if(e.text.length>0&&e.source){var r=e.text.trim().replace(/,| #.*/g,"").split(" "),i=r[0],o=r.slice(1,r.length),c=new R("Command",i,e.source.line);c.params=o,n.body.push(c)}}),t}(t),n.setState(function(n){return n.asm.splice(0,n.asm.length),t.forEach(function(e){n.asm.push(e)}),{compiling:!1,status:"compiles",error:e,clangAst:a,codeWasModifiedSinceLastCompile:!1,visualize:!0}})):n.setState({compiling:!1,status:"error",error:e,clangAst:{},asm:{}})},oe({url:"https://godbolt.org/api/compiler/cclang700/compile",method:"POST",headers:{"content-type":"application/json"},json:!0,body:{source:e,compiler:"cclang700",options:{userArguments:"-O3 -march=native",compilerOptions:{produceGccDump:{},produceCfg:!1,produceAst:!0},filters:{binary:!1,execute:!1,labels:!0,directives:!0,commentOnly:!0,trim:!0,intel:!0,demangle:!0}},lang:"c"}},function(e,n,a){e?(alert("oops! https://godbolt.org/ seems to be down! \n You will have to wait my friend."),t({},[],"")):t(a.stderr,a.asm,a.astOutput)})):n.setState({compiling:!1,visualize:!0})},n.restart=function(){n.setState(function(e){return Object.keys(e.ast).forEach(function(t){return delete e.ast[t]}),e.asm.splice(0,e.asm.length),{compiling:!1,codeWasModifiedSinceLastCompile:!0,clangAst:{},error:[],visualize:!1}})},n.getShareLink=function(){return"https://piotte13.github.io/SIMD-Visualiser/#/link/"+at.stringify({code:n.state.code})};var a=localStorage.getItem("app-state");return n.history=Object(nt.a)(),n.state={code:"#include <x86intrin.h>\n\n__m128i PrefixSum(__m128i curr) {\n  __m128i Add = _mm_slli_si128(curr, 4); \n  curr = _mm_add_epi32(curr, Add);   \n  Add = _mm_slli_si128(curr, 8);    \n  return _mm_add_epi32(curr, Add);       \n}",codeWasModifiedSinceLastCompile:!0,disableButtons:!1,status:"compiles",compiling:!1,ast:{},clangAst:{},asm:[],error:[],visualize:!1},n.props.match.params.code?n.state.code=at.parse(n.props.match.params.code).code:a&&(n.state=JSON.parse(a),n.state.visualize=!1),n.frontPage=r.a.createElement(ie,null),n.waitingScreen=r.a.createElement(I,null),n.asmVisualizer=null,n.astVisualizer=null,n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.asmVisualizer=r.a.createElement(tt,{cm:this.cm,asm:this.state.asm}),this.astVisualizer=r.a.createElement(F,{cm:this.cm,ast:this.state.ast}),this.refs.shiftVec&&this.refs.shiftVec.getAnimation().play()}},{key:"componentWillUpdate",value:function(e,t){localStorage.setItem("app-state",JSON.stringify(t))}},{key:"render",value:function(){var e=this,t=this.state,n=t.code,a=t.disableButtons,i=t.status,o=t.compiling,c=this.frontPage;return o?c=this.waitingScreen:this.state.error.length>0?c=r.a.createElement(ye,{cm:this.cm,error:this.state.error}):this.state.visualize&&(c=r.a.createElement(xe,{selected:0},r.a.createElement(Ee,{label:"Graphical"},this.asmVisualizer),r.a.createElement(Ee,{label:"AST"},this.astVisualizer))),r.a.createElement(ct,null,r.a.createElement(st,null,r.a.createElement(_,{visualize:this.visualize,restart:this.restart,getShareLink:this.getShareLink,disabled:a,status:i}),r.a.createElement(m.Controlled,{ref:function(t){return e.cm=t},value:n,options:{mode:"text/x-csrc",theme:"material",lineNumbers:!0,lineWrapping:!0,gutters:["CodeMirror-lint-markers"]},onBeforeChange:function(t,n,a){e.setState({codeWasModifiedSinceLastCompile:!0}),e.history.push(e.history.location.pathname),""===a?e.handleClear(!0):e.setState({code:a})},onPaste:function(){e.setState({codeWasModifiedSinceLastCompile:!0}),e.handleClear(!1)}})),r.a.createElement(lt,null,c))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(773);var dt=n(778),pt=n(779),mt=n(780);o.a.render(r.a.createElement(dt.a,{basename:"/SIMD-Visualiser"},r.a.createElement(pt.a,null,r.a.createElement(mt.a,{exact:!0,path:"/",component:ut}),r.a.createElement(mt.a,{path:"/link/:code",component:ut}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[333,2,1]]]);
//# sourceMappingURL=main.83cb54f2.chunk.js.map